(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1226:function(e,a,s){Promise.resolve().then(s.bind(s,121))},121:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return em}});var t=s(7437),i=s(2265),l=s(6463),r=s(3962),n=s(9506),d=s(9842),c=s(9733),o=s(8185),m=s(4662),u=s(5936),x=s(6669),f=s(9354);let h=x.fC,p=x.xz,j=x.h_,N=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(x.aV,{className:(0,f.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...i,ref:a})});N.displayName=x.aV.displayName;let g=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsxs)(j,{children:[(0,t.jsx)(N,{}),(0,t.jsx)(x.VY,{ref:a,className:(0,f.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...i})]})});g.displayName=x.VY.displayName;let v=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,f.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...s})};v.displayName="AlertDialogHeader";let y=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,f.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};y.displayName="AlertDialogFooter";let b=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(x.Dx,{ref:a,className:(0,f.cn)("text-lg font-semibold",s),...i})});b.displayName=x.Dx.displayName;let w=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(x.dk,{ref:a,className:(0,f.cn)("text-sm text-muted-foreground",s),...i})});w.displayName=x.dk.displayName;let k=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(x.aU,{ref:a,className:(0,f.cn)((0,c.d)(),s),...i})});k.displayName=x.aU.displayName;let C=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(x.$j,{ref:a,className:(0,f.cn)((0,c.d)({variant:"outline"}),"mt-2 sm:mt-0",s),...i})});C.displayName=x.$j.displayName;var z=s(7209),E=s(402),Z=s(9973),R=s(6763),I=s(3274),A=s(7524),S=s(883),U=s(8960),_=s(8259),O=s(2513),F=s(4817),L=s(6649),P=s(7390),V=s(7151),M=s(7138),D=s(1464);let J=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(D.fC,{ref:a,className:(0,f.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...i})});J.displayName=D.fC.displayName;let Y=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(D.Ee,{ref:a,className:(0,f.cn)("aspect-square h-full w-full",s),...i})});Y.displayName=D.Ee.displayName;let q=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(D.NY,{ref:a,className:(0,f.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...i})});q.displayName=D.NY.displayName;var T=s(634),H=s(7592),K=s(2468),$=s(8165),B=s(1538);let W=T.fC,Q=T.xz;T.ZA,T.Uv,T.Tr,T.Ee,i.forwardRef((e,a)=>{let{className:s,inset:i,children:l,...r}=e;return(0,t.jsxs)(T.fF,{ref:a,className:(0,f.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",i&&"pl-8",s),...r,children:[l,(0,t.jsx)(H.Z,{className:"ml-auto"})]})}).displayName=T.fF.displayName,i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(T.tu,{ref:a,className:(0,f.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...i})}).displayName=T.tu.displayName;let X=i.forwardRef((e,a)=>{let{className:s,sideOffset:i=4,...l}=e;return(0,t.jsx)(T.Uv,{children:(0,t.jsx)(T.VY,{ref:a,sideOffset:i,className:(0,f.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...l})})});X.displayName=T.VY.displayName;let G=i.forwardRef((e,a)=>{let{className:s,inset:i,asChild:l,...r}=e,n=l?B.g7:T.ck;return(0,t.jsx)(n,{ref:a,className:(0,f.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",i&&"pl-8",s),...r})});G.displayName=T.ck.displayName,i.forwardRef((e,a)=>{let{className:s,children:i,checked:l,...r}=e;return(0,t.jsxs)(T.oC,{ref:a,className:(0,f.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:l,...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(T.wU,{children:(0,t.jsx)(K.Z,{className:"h-4 w-4"})})}),i]})}).displayName=T.oC.displayName,i.forwardRef((e,a)=>{let{className:s,children:i,...l}=e;return(0,t.jsxs)(T.Rk,{ref:a,className:(0,f.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(T.wU,{children:(0,t.jsx)($.Z,{className:"h-2 w-2 fill-current"})})}),i]})}).displayName=T.Rk.displayName;let ee=i.forwardRef((e,a)=>{let{className:s,inset:i,...l}=e;return(0,t.jsx)(T.__,{ref:a,className:(0,f.cn)("px-2 py-1.5 text-sm font-semibold",i&&"pl-8",s),...l})});ee.displayName=T.__.displayName;let ea=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(T.Z0,{ref:a,className:(0,f.cn)("-mx-1 my-1 h-px bg-muted",s),...i})});ea.displayName=T.Z0.displayName;var es=s(6670),et=s(2022),ei=s(9896),el=s(5735);function er(){var e;let{user:a,logout:s}=(0,r.a)(),o=(0,l.useRouter)(),{toast:u}=(0,R.pm)(),[x,f]=(0,i.useState)(!1),[h,p]=(0,i.useState)(""),[j,N]=(0,i.useState)(!1),[g,v]=(0,i.useState)({displayName:"",photoURL:""});(0,i.useEffect)(()=>{if(a){let e=(0,d.JU)(n.db,"users",a.uid),s=(0,d.cf)(e,e=>{if(e.exists()){let s=e.data();v({displayName:s.displayName||a.email||"Usu\xe1rio",photoURL:a.photoURL||""}),p(s.displayName||"")}});return()=>s()}},[a]);let y=async()=>{await s(),o.push("/login")},b=async()=>{if(a){N(!0);try{let e=(0,d.JU)(n.db,"users",a.uid);await (0,d.r7)(e,{displayName:h}),a.displayName!==h&&await (0,el.ck)(a,{displayName:h}),u({title:"Perfil Atualizado",description:"Suas informa\xe7\xf5es foram salvas com sucesso."}),f(!1)}catch(e){console.error("Erro ao atualizar perfil:",e),u({variant:"destructive",title:"Erro",description:"N\xe3o foi poss\xedvel atualizar seu perfil. Tente novamente."})}finally{N(!1)}}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("header",{className:"sticky top-0 z-30 flex h-16 items-center gap-4 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 px-4 md:px-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mr-auto",children:[(0,t.jsxs)(M.default,{href:"/",className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"h-8 w-8",children:(0,t.jsx)(es.T,{})}),(0,t.jsx)("span",{className:"font-headline text-xl font-semibold hidden sm:inline-block",children:"Lista de Limpeza F\xe1cil"})]}),(0,t.jsx)("nav",{className:"hidden md:flex items-center gap-2",children:(0,t.jsx)(c.z,{variant:"link",asChild:!0,children:(0,t.jsx)(M.default,{href:"#feedback",children:"Feedback"})})})]}),(0,t.jsx)("div",{className:"ml-auto",children:a&&(0,t.jsxs)(W,{children:[(0,t.jsx)(Q,{asChild:!0,children:(0,t.jsx)(c.z,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:(0,t.jsxs)(J,{className:"h-10 w-10",children:[(0,t.jsx)(Y,{src:g.photoURL||void 0,alt:g.displayName||""}),(0,t.jsx)(q,{children:g.displayName?(e=g.displayName)?e.split(" ").map(e=>e[0]).join("").slice(0,2).toUpperCase():"":(0,t.jsx)(et.Z,{})})]})})}),(0,t.jsxs)(X,{className:"w-56",align:"end",forceMount:!0,children:[(0,t.jsx)(ee,{className:"font-normal",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium leading-none",children:g.displayName||"Usu\xe1rio"}),(0,t.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:a.email})]})}),(0,t.jsx)(ea,{}),(0,t.jsxs)(G,{onClick:()=>f(!0),children:[(0,t.jsx)(L.Z,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Editar Perfil"})]}),(0,t.jsxs)(G,{onClick:y,children:[(0,t.jsx)(ei.Z,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Sair"})]})]})]})})]}),(0,t.jsx)(m.Vq,{open:x,onOpenChange:f,children:(0,t.jsxs)(m.cZ,{children:[(0,t.jsxs)(m.fK,{children:[(0,t.jsx)(m.$N,{children:"Editar Perfil"}),(0,t.jsx)(m.Be,{children:"Atualize seu nome de exibi\xe7\xe3o."})]}),(0,t.jsx)("div",{className:"grid gap-4 py-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(E._,{htmlFor:"name",className:"text-right",children:"Nome"}),(0,t.jsx)(z.I,{id:"name",value:h,onChange:e=>p(e.target.value),className:"col-span-3"})]})}),(0,t.jsxs)(m.cN,{children:[(0,t.jsx)(c.z,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),(0,t.jsxs)(c.z,{onClick:b,disabled:j,children:[j&&(0,t.jsx)(I.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvar"]})]})]})})]})}var en=s(9782),ed=s(349),ec=s(9055),eo=s(1572);function em(){let{user:e,loading:a}=(0,r.a)(),s=(0,l.useRouter)(),{toast:x}=(0,R.pm)(),[f,j]=(0,i.useState)([]),[N,M]=(0,i.useState)([]),[D,Y]=(0,i.useState)([]),[T,H]=(0,i.useState)(!1),[K,$]=(0,i.useState)(!1),[B,W]=(0,i.useState)(null),[Q,X]=(0,i.useState)(""),[G,ee]=(0,i.useState)(!0),[ea,es]=(0,i.useState)(!0),[et,ei]=(0,i.useState)(""),el=(0,i.useRef)(!0);(0,i.useEffect)(()=>{a||e||s.push("/login")},[e,a,s]),(0,i.useEffect)(()=>{if(e){eo.ZP.init({publicKey:"Yj5CBlcpbHrHQeYik"}),ee(!0);let a=(0,d.IO)((0,d.hJ)(n.db,"materials"),(0,d.ar)("userId","==",e.uid)),s=(0,d.cf)(a,e=>{let a=[];e.forEach(e=>{let s=e.data();a.push({id:e.id,name:s.name,userId:s.userId})}),a.sort((e,a)=>e.name.localeCompare(a.name)),M(a),ee(!1)},e=>{console.error("Error fetching materials: ",e),x({variant:"destructive",title:"Erro ao buscar materiais",description:"N\xe3o foi poss\xedvel carregar os materiais."}),ee(!1)});es(!0);let t=(0,d.IO)((0,d.hJ)(n.db,"feedback"),(0,d.ar)("listOwnerId","==",e.uid)),i=(0,d.cf)(t,e=>{let a=e.docs.map(e=>({id:e.id,...e.data()}));a.sort((e,a)=>{var s,t;return((null===(s=a.createdAt)||void 0===s?void 0:s.toMillis())||0)-((null===(t=e.createdAt)||void 0===t?void 0:t.toMillis())||0)}),Y(a),es(!1)},e=>{console.error("Error fetching feedback: ",e),es(!1)});return()=>{s(),i()}}},[e,x]),(0,i.useEffect)(()=>{if(!e)return;[...f];let a=(0,d.JU)(n.db,"shoppingLists",e.uid),s=(0,d.cf)(a,e=>{if(e.exists()){let a=e.data().items||[];el.current&&(el.current=!1),j(a),[...a]}},e=>{console.error("Error listening to shopping list: ",e)});return()=>s()},[e]);let em=async a=>{if(!e)return;let s=(0,d.JU)(n.db,"shoppingLists",e.uid);await (0,d.pl)(s,{items:a,userId:e.uid},{merge:!0})},eu=a=>{if(!e)return;let s=[...f];if(s.find(e=>e.id===a.id))x({variant:"destructive",title:"Item j\xe1 existe",description:"".concat(a.name," j\xe1 est\xe1 na sua lista de compras.")});else{let e={id:a.id,name:a.name,createdAt:d.EK.now()};s.push(e),em(s),x({title:"Item Adicionado!",description:"".concat(a.name," foi adicionado \xe0 sua lista de compras.")})}},ex=e=>{em(f.filter(a=>a.id!==e))},ef=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;W(e),X((null==e?void 0:e.name)||""),H(!0)},eh=async()=>{if(e){if(!Q.trim()){x({variant:"destructive",title:"Campo obrigat\xf3rio",description:"Preencha o nome do item."});return}try{if(B){let e=(0,d.JU)(n.db,"materials",B.id);await (0,d.r7)(e,{name:Q}),x({title:"Item Atualizado!",description:"O item ".concat(Q," foi atualizado com sucesso.")})}else await (0,d.ET)((0,d.hJ)(n.db,"materials"),{name:Q,userId:e.uid}),x({title:"Item Adicionado!",description:"O item ".concat(Q," foi adicionado \xe0 lista de materiais.")});H(!1),X(""),W(null)}catch(e){console.error("Error saving material: ",e),x({variant:"destructive",title:"Erro ao salvar",description:"N\xe3o foi poss\xedvel salvar o item. Tente novamente."})}}},ep=async e=>{try{await (0,d.oe)((0,d.JU)(n.db,"materials",e)),ex(e),x({title:"Item Removido",description:"O item foi removido da sua lista de materiais."})}catch(e){console.error("Error deleting material: ",e),x({variant:"destructive",title:"Erro ao remover",description:"N\xe3o foi poss\xedvel remover o item. Tente novamente."})}},ej=async e=>{try{await (0,d.oe)((0,d.JU)(n.db,"feedback",e)),Y(a=>a.filter(a=>a.id!==e)),x({title:"Mensagem Removida",description:"A mensagem foi removida com sucesso."})}catch(e){console.error("Error deleting feedback: ",e),x({variant:"destructive",title:"Erro ao remover",description:"N\xe3o foi poss\xedvel remover a mensagem."})}},eN=(0,i.useMemo)(()=>N.filter(e=>e.name.toLowerCase().includes(et.toLowerCase())),[N,et]);if(a||!e)return(0,t.jsx)("div",{className:"flex h-screen w-full items-center justify-center bg-background",children:(0,t.jsx)(I.Z,{className:"h-12 w-12 animate-spin text-primary"})});let eg=e=>e?(0,en.WU)(e.toDate(),"dd/MM/yyyy '\xe0s' HH:mm",{locale:ed.F}):null,ev=e=>e?(0,en.WU)(e.toDate(),"dd/MM/yyyy '\xe0s' HH:mm",{locale:ed.F}):"Data desconhecida",ey=()=>(0,t.jsx)(t.Fragment,{children:f.length>0?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("ul",{className:"space-y-3",children:f.map(e=>(0,t.jsxs)("li",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-muted",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(J,{className:"h-8 w-8 bg-muted",children:(0,t.jsx)(q,{children:(0,t.jsx)(A.Z,{className:"h-4 w-4 text-muted-foreground"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.name}),e.createdAt&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:eg(e.createdAt)})]})]}),(0,t.jsx)(c.z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>ex(e.id),children:(0,t.jsx)(S.Z,{className:"h-4 w-4 text-destructive"})})]},e.id))}),(0,t.jsx)(Z.Z,{})]}):(0,t.jsxs)("div",{className:"text-center text-muted-foreground py-8 space-y-2",children:[(0,t.jsx)(U.Z,{className:"mx-auto h-12 w-12"}),(0,t.jsx)("p",{className:"font-medium",children:"Sua lista de compras est\xe1 vazia."}),(0,t.jsx)("p",{className:"text-sm",children:"Clique nos itens dispon\xedveis para adicionar."})]})});return(0,t.jsxs)("div",{className:"flex min-h-screen w-full flex-col bg-muted/40",children:[(0,t.jsx)(er,{}),(0,t.jsx)("main",{className:"flex flex-1 flex-col gap-4 p-4 md:gap-8 md:p-8 pb-24",children:(0,t.jsxs)("div",{className:"grid gap-8 lg:grid-cols-5",children:[(0,t.jsxs)("div",{className:"space-y-8 lg:col-span-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between mb-6 gap-4",children:[(0,t.jsx)("h1",{className:"font-headline text-3xl font-bold tracking-tight",children:"Materiais de Limpeza"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(c.z,{onClick:()=>{e&&s.push("/print/".concat(e.uid))},variant:"outline",children:[(0,t.jsx)(_.Z,{className:"mr-2"}),"Compartilhar"]}),(0,t.jsxs)(m.Vq,{open:T,onOpenChange:e=>{H(e),e||(W(null),X(""))},children:[(0,t.jsx)(m.hg,{asChild:!0,children:(0,t.jsxs)(c.z,{onClick:()=>ef(),children:[(0,t.jsx)(O.Z,{className:"mr-2"}),"Adicionar Item"]})}),(0,t.jsxs)(m.cZ,{children:[(0,t.jsxs)(m.fK,{children:[(0,t.jsx)(m.$N,{children:B?"Editar Item":"Adicionar Novo Item"}),(0,t.jsx)(m.Be,{children:"Adicione ou edite um item da sua lista de materiais para que outros possam adicion\xe1-lo \xe0 sua lista de compras."})]}),(0,t.jsx)("div",{className:"space-y-4 py-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(E._,{htmlFor:"name",children:"Nome do Item"}),(0,t.jsx)(z.I,{id:"name",value:Q,onChange:e=>X(e.target.value),placeholder:"Ex: Detergente"})]})}),(0,t.jsxs)(m.cN,{children:[(0,t.jsx)(c.z,{variant:"outline",onClick:()=>H(!1),children:"Cancelar"}),(0,t.jsx)(c.z,{onClick:eh,children:"Salvar"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"relative mb-6",children:[(0,t.jsx)(F.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),(0,t.jsx)(z.I,{type:"text",placeholder:"Pesquisar material...",value:et,onChange:e=>ei(e.target.value),className:"w-full pl-10 bg-background"})]}),G?(0,t.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,t.jsx)(I.Z,{className:"h-12 w-12 animate-spin text-primary"})}):eN.length>0?(0,t.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:eN.map(e=>(0,t.jsx)(o.Zb,{className:"group/item flex flex-col overflow-hidden transition-shadow hover:shadow-lg cursor-pointer bg-background",onClick:()=>eu(e),children:(0,t.jsxs)(o.Ol,{className:"flex-row items-start justify-between p-4",children:[(0,t.jsx)(o.ll,{className:"font-headline text-base font-semibold leading-snug",children:e.name}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 transition-opacity",children:[(0,t.jsx)(c.z,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:a=>{a.stopPropagation(),ef(e)},children:(0,t.jsx)(L.Z,{className:"h-4 w-4"})}),(0,t.jsxs)(h,{children:[(0,t.jsx)(p,{asChild:!0,children:(0,t.jsx)(c.z,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:e=>{e.stopPropagation()},children:(0,t.jsx)(S.Z,{className:"h-4 w-4 text-destructive"})})}),(0,t.jsxs)(g,{children:[(0,t.jsxs)(v,{children:[(0,t.jsx)(b,{children:"Voc\xea tem certeza?"}),(0,t.jsx)(w,{children:"Esta a\xe7\xe3o n\xe3o pode ser desfeita. Isso remover\xe1 o item da sua lista de materiais e tamb\xe9m da lista de compras."})]}),(0,t.jsxs)(y,{children:[(0,t.jsx)(C,{children:"Cancelar"}),(0,t.jsx)(k,{onClick:()=>ep(e.id),children:"Continuar"})]})]})]})]})]})},e.id))}):(0,t.jsxs)("div",{className:"text-center text-muted-foreground py-16 rounded-lg bg-background",children:[(0,t.jsx)("p",{className:"text-lg font-medium",children:et?"Nenhum item encontrado":"Nenhum material cadastrado"}),(0,t.jsx)("p",{className:"text-sm",children:et?"Tente uma busca diferente.":"Clique em 'Adicionar Item' para come\xe7ar."})]})]}),(0,t.jsxs)("div",{id:"feedback",children:[(0,t.jsx)("div",{className:"flex flex-wrap items-center justify-between mb-6 gap-4",children:(0,t.jsx)("h2",{className:"font-headline text-3xl font-bold tracking-tight",children:"Sugest\xf5es e D\xfavidas"})}),ea?(0,t.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,t.jsx)(I.Z,{className:"h-12 w-12 animate-spin text-primary"})}):D.length>0?(0,t.jsx)("div",{className:"space-y-4",children:D.map(e=>(0,t.jsxs)(o.Zb,{className:"bg-background",children:[(0,t.jsxs)(o.Ol,{className:"flex flex-row justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(o.ll,{className:"flex items-center gap-2 text-lg",children:["doubt"===e.type?(0,t.jsx)(P.Z,{className:"text-primary"}):(0,t.jsx)(V.Z,{className:"text-amber-500"}),"doubt"===e.type?"D\xfavida de ".concat(e.name):"Sugest\xe3o"]}),(0,t.jsx)(o.SZ,{className:"text-xs pt-1",children:ev(e.createdAt)})]}),(0,t.jsxs)(h,{children:[(0,t.jsx)(p,{asChild:!0,children:(0,t.jsx)(c.z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground",children:(0,t.jsx)(S.Z,{className:"h-4 w-4"})})}),(0,t.jsxs)(g,{children:[(0,t.jsxs)(v,{children:[(0,t.jsx)(b,{children:"Voc\xea tem certeza?"}),(0,t.jsx)(w,{children:"Esta a\xe7\xe3o n\xe3o pode ser desfeita. Isso remover\xe1 permanentemente a mensagem."})]}),(0,t.jsxs)(y,{children:[(0,t.jsx)(C,{children:"Cancelar"}),(0,t.jsx)(k,{onClick:()=>ej(e.id),children:"Continuar"})]})]})]})]}),(0,t.jsx)(o.aY,{className:"space-y-4",children:(0,t.jsx)("p",{className:"text-sm text-foreground",children:e.text})})]},e.id))}):(0,t.jsxs)("div",{className:"text-center text-muted-foreground py-16 bg-background rounded-lg",children:[(0,t.jsx)("p",{className:"text-lg font-medium",children:"Nenhuma mensagem recebida."}),(0,t.jsx)("p",{className:"text-sm",children:"As sugest\xf5es e d\xfavidas enviadas pela p\xe1gina p\xfablica aparecer\xe3o aqui."})]})]})]}),(0,t.jsx)("div",{className:"hidden lg:block lg:col-span-2",children:(0,t.jsxs)(o.Zb,{className:"sticky top-24 bg-background",children:[(0,t.jsx)(o.Ol,{children:(0,t.jsx)(o.ll,{className:"font-headline text-2xl",children:"Sua Lista de Compras"})}),(0,t.jsx)(o.aY,{children:ey()})]})})]})}),(0,t.jsx)("div",{className:"lg:hidden",children:(0,t.jsxs)(u.yo,{open:K,onOpenChange:$,children:[(0,t.jsx)(u.aM,{asChild:!0,children:(0,t.jsxs)(c.z,{className:"fixed bottom-6 right-6 z-40 h-16 w-16 rounded-full shadow-lg",children:[(0,t.jsx)(U.Z,{className:"h-6 w-6"}),f.length>0&&(0,t.jsx)(ec.C,{variant:"destructive",className:"absolute -top-2 -right-2 h-6 w-6 justify-center rounded-full",children:f.length}),(0,t.jsx)("span",{className:"sr-only",children:"Abrir lista de compras"})]})}),(0,t.jsxs)(u.ue,{side:"bottom",className:"h-[90%] flex flex-col p-0",children:[(0,t.jsx)(u.Tu,{className:"p-6 pb-0",children:(0,t.jsx)(u.bC,{className:"font-headline text-2xl",children:"Lista de Compras"})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto py-4 px-4",children:ey()}),(0,t.jsx)(u.FF,{className:"p-6 pt-0",children:(0,t.jsx)(c.z,{onClick:()=>$(!1),className:"w-full",children:"Fechar"})})]})]})})]})}},929:function(e,a,s){"use strict";s.d(a,{AuthProvider:function(){return n},V:function(){return r}});var t=s(7437),i=s(2265),l=s(9506);let r=(0,i.createContext)(void 0);function n(e){let{children:a}=e,[s,n]=(0,i.useState)(null),[d,c]=(0,i.useState)(!0);(0,i.useEffect)(()=>{let e=(0,l.Aj)(l.I8,e=>{n(e),c(!1)});return()=>e()},[]);let o=async()=>{await (0,l.w7)(l.I8)};return(0,t.jsx)(r.Provider,{value:{user:s,loading:d,login:(e,a)=>(0,l.e5)(l.I8,e,a),signup:(e,a)=>(0,l.Xb)(l.I8,e,a),logout:o},children:a})}},3962:function(e,a,s){"use strict";s.d(a,{a:function(){return l}});var t=s(2265),i=s(929);let l=()=>{let e=(0,t.useContext)(i.V);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},function(e){e.O(0,[358,990,247,537,173,974,986,159,620,81,428,971,23,744],function(){return e(e.s=1226)}),_N_E=e.O()}]);